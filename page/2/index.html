<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>echo - echo</title><meta name="author" content="echo"><meta name="copyright" content="echo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="好风凭借力 扶摇上青云">
<meta property="og:type" content="website">
<meta property="og:title" content="echo">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="echo">
<meta property="og:description" content="好风凭借力 扶摇上青云">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1602674028&di=d172ead1852b69507d79279bf80efc54&imgtype=jpg&er=1&src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202009%2F15%2F20200915202836_6632b.thumb.1000_0.webp">
<meta property="article:author" content="echo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1602674028&di=d172ead1852b69507d79279bf80efc54&imgtype=jpg&er=1&src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202009%2F15%2F20200915202836_6632b.thumb.1000_0.webp"><link rel="shortcut icon" href="http://p8.qhimg.com/bdm/800_600_100/t012b0a4dba0add8b86.jpg"><link rel="canonical" href="http://example.com/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isSidebar: false,
  postUpdate: '2022-04-11 17:55:02'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {
  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }

  const autoChangeMode = 'true'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }
})()</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1602674028&amp;di=d172ead1852b69507d79279bf80efc54&amp;imgtype=jpg&amp;er=1&amp;src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202009%2F15%2F20200915202836_6632b.thumb.1000_0.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">54</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">21</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">13</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://www.bilibili.com/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></div></div></div></div><div id="body-wrap"><div id="web_bg"></div><header class="full_page" id="page-header" style="background-image: url(http://p3.qhimg.com/bdm/0_0_100/t01f8e7925475f95ea4.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">echo</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://www.bilibili.com/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">echo</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/echowill" target="_blank" title="GitHub"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:echowill@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout_page" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/10/19/libevent%E7%8E%AF%E5%A2%83/" title="libevent环境">     <img class="post_bg" src="http://p8.qhimg.com/bdm/0_0_100/t012b0a4dba0add8b86.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="libevent环境"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/10/19/libevent%E7%8E%AF%E5%A2%83/" title="libevent环境">libevent环境</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-10-19T07:43:48.000Z" title="发表于 2021-10-19 15:43:48">2021-10-19</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-10-19T07:44:57.789Z" title="更新于 2021-10-19 15:44:57">2021-10-19</time></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Libevent/">Libevent</a></span></div><div class="content">参照书籍深入浅出lib event
libevent版本:libevent-2.1.12-stable.tar.gz
操作系统:ubuntu18.04 / macOS big sur 11.2.1
依赖环境:openssl1.1
对应依赖关系



libevent
openssl



2.1.x
1.1


2.0.x
1.0


遇到问题1234567891011121314makeCDPATH=&quot;$&#123;ZSH_VERSION+.&#125;:&quot; &amp;&amp; cd . &amp;&amp; /bin/bash /home/china/Desktop/libevent-2.1.12-stable/build-aux/missing aclocal-1.16 -I m4/home/china/Desktop/libevent-2.1.12-stable/build-aux/missing: 行 81: aclocal-1.16: 未找到命令WARNING: &#x27;aclocal-1.16&#x27; is missing on your s ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/07/28/CPP%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="CPP设计模式">     <img class="post_bg" src="http://p4.qhimg.com/bdm/0_0_100/t01618bf89a43aa6dc6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CPP设计模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/28/CPP%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="CPP设计模式">CPP设计模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-07-28T01:17:44.000Z" title="发表于 2021-07-28 09:17:44">2021-07-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-07-28T01:24:03.436Z" title="更新于 2021-07-28 09:24:03">2021-07-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/CPP/">CPP</a></span></div><div class="content">C++设计模式《大话设计模式》一书中提到 24 种设计模式，这 24 种设计模式没必要面面俱到，但一定要深入了解其中的几种，以下列举常见的3种设计模式，单例模式，工厂模式，观察者模式。在这之前，先让我们来熟悉一下6大设计原则。
设计原则单一职责原则：就一个类而言，应该仅有一个引起它变化的原因。
开放封闭原则：软件实体可以扩展，但是不可修改。即面对需求，对程序的改动可以通过增加代码来完成，但是不能改动现有的代码。
里氏代换原则：一个软件实体如果使用的是一个基类，那么一定适用于其派生类。即在软件中，把基类替换成派生类，程序的行为没有变化。
依赖倒转原则：抽象不应该依赖细节，细节应该依赖抽象。即针对接口编程，不要对实现编程。
迪米特原则：如果两个类不直接通信，那么这两个类就不应当发生直接的相互作用。如果一个类需要调用另一个类的某个方法的话，可以通过第三个类转发这个调用。
接口隔离原则：每个接口中不存在派生类用不到却必须实现的方法，如果不然，就要将接口拆分，使用多个隔离的接口。
设计模式单例模式保证类的实例化对象仅有一个，并且提供一个访问他的全局访问点。
应用场景：
表示文件系统的类，一个操作 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/07/20/download/" title="download">     <img class="post_bg" src="http://p8.qhimg.com/bdr/__85/t017d8883ffb9a06245.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="download"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/20/download/" title="download">download</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-07-20T02:20:41.000Z" title="发表于 2021-07-20 10:20:41">2021-07-20</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-07-20T14:00:05.036Z" title="更新于 2021-07-20 22:00:05">2021-07-20</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/C/">C++</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/C/">C++</a></span></div><div class="content">需求分析选择的项目是下载器设计，内容是实现一个支持主流下载协议(https，ftp等协议)的下载器，需要支持多线程下载，断点下载，垃圾回收，磁盘检测等基本机制，以及可用性，得有一个UI。根据以上软件需求，结合自己已有的技术栈，打算使用QT实现UI部分的设计，然后下载部分的实现打算使用一个叫libcurl的C库，然后封装使其支持以上下载需求。
软件设计思路基于以上的需求分析可知，UI只需要负责显示以及用户信息输入，下载器只负责下载部分的逻辑处理，因此可用使用MVP模式(Model-View-Presenter)。使用此模型能使单元测试更为方便。
确定了软件设计模式，接下来则是UI设计和下载器设计。
原理实现在选定libcurl作为底层的下载库之后，我们得弄清楚其主要的功能原理。首先我们下载一个文件需要知道哪些数据呢？首先是文件链接，文件链接是由用户进行输入的，之后是文件名和文件存储路径，文件路径也是由用户指定的，文件名我们可用通过对用户输入的url进行解析，以url的后缀参数作为文件名。有了以上参数，像迅雷，chrome等软件就能进行文件下载了，因此我们设计的下载器设计思路也是这样的，尽 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/06/23/elf%E7%9A%84symbol-table%E8%AF%A6%E8%A7%A3/" title="ELF符号链接">     <img class="post_bg" src="http://p7.qhimg.com/bdm/0_0_100/t012aa56c1743a6fa69.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ELF符号链接"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/06/23/elf%E7%9A%84symbol-table%E8%AF%A6%E8%A7%A3/" title="ELF符号链接">ELF符号链接</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-06-23T14:05:58.000Z" title="发表于 2021-06-23 22:05:58">2021-06-23</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-06-23T14:05:03.023Z" title="更新于 2021-06-23 22:05:03">2021-06-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/CSAPP/">CSAPP</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/CSAPP/">CSAPP</a></span></div><div class="content">ELF符号链接何为ELF？ELF的全称是executable linkable format，中文直译是可执行可链接格式。使用gcc -c file.c -o file.o，也就是.o格式的文件。这里举一个简单的例子。
1int a = 10;

我们使用如下命令对其进行编译可得到test.o
1gcc -c test.c -o test.o

使用readelf -a test.o即可查看其全部信息
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071$ readelf -a test.o   ELF 头：  Magic：   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00   类别:                              ELF64  数据:                              2  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/28/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/" title="数据库原理">     <img class="post_bg" src="http://p6.qhimg.com/bdr/__85/t01a13679cac62ea284.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库原理"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/28/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/" title="数据库原理">数据库原理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-03-28T02:20:41.000Z" title="发表于 2021-03-28 10:20:41">2021-03-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-03-28T02:21:30.000Z" title="更新于 2021-03-28 10:21:30">2021-03-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="content">数据库原理转载于MySQL索引背后的数据结构及算法原理摘要本文以MySQL数据库为研究对象，讨论与数据库索引相关的一些话题。特别需要说明的是，MySQL支持诸多存储引擎，而各种存储引擎对索引的支持也各不相同，因此MySQL数据库支持多种索引类型，如BTree索引，哈希索引，全文索引等等。为了避免混乱，本文将只关注于BTree索引，因为这是平常使用MySQL时主要打交道的索引，至于哈希索引和全文索引本文暂不讨论。
文章主要内容分为三个部分。
第一部分主要从数据结构及算法理论层面讨论MySQL数据库索引的数理基础。
第二部分结合MySQL数据库中MyISAM和InnoDB数据存储引擎中索引的架构实现讨论聚集索引、非聚集索引及覆盖索引等话题。
第三部分根据上面的理论基础，讨论MySQL中高性能使用索引的策略。
数据结构及算法基础索引的本质MySQL官方对索引的定义为：索引（Index）是帮助MySQL高效获取数据的数据结构。提取句子主干，就可以得到索引的本质：索引是数据结构。
我们知道，数据库查询是数据库的最主要功能之一。我们都希望查询数据的速度能尽可能的快，因此数据库系统的设计者会从查询算 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" title="计算机网络">     <img class="post_bg" src="http://p4.qhimg.com/bdr/__85/t0195e2e4015fb0cc4d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机网络"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" title="计算机网络">计算机网络</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-03-28T01:35:52.000Z" title="发表于 2021-03-28 09:35:52">2021-03-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-03-28T01:37:25.000Z" title="更新于 2021-03-28 09:37:25">2021-03-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></span></div><div class="content">计算机网络《转载于C/C++面试基础》
计算机经网络体系结构：
各层作用及协议


分层
作用
协议



物理层
通过媒介传输比特，确定机械及电气规范（比特 Bit）
RJ45、CLOCK、IEEE802.3（中继器，集线器）


数据链路层
将比特组装成帧和点到点的传递（帧 Frame）
PPP、FR、HDLC、VLAN、MAC（网桥，交换机）


网络层
负责数据包从源到宿的传递和网际互连（包 Packet）
IP、ICMP、ARP、RARP、OSPF、IPX、RIP、IGRP（路由器）


运输层
提供端到端的可靠报文传递和错误恢复（ 段Segment）
TCP、UDP、SPX


会话层
建立、管理和终止会话（会话协议数据单元 SPDU）
NFS、SQL、NETBIOS、RPC


表示层
对数据进行翻译、加密和压缩（表示协议数据单元 PPDU）
JPEG、MPEG、ASII


应用层
允许访问OSI环境的手段（应用协议数据单元 APDU）
FTP、DNS、Telnet、SMTP、HTTP、WWW、NFS


物理层
传输数据的单位 ———— 比特
数据传输系统：源系统（源 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/27/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="Linux网络编程">     <img class="post_bg" src="http://p18.qhimg.com/bdm/0_0_100/t0173df002c22d721b4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux网络编程"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/27/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="Linux网络编程">Linux网络编程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-03-27T03:28:24.000Z" title="发表于 2021-03-27 11:28:24">2021-03-27</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-11T09:54:28.711Z" title="更新于 2022-04-11 17:54:28">2022-04-11</time></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Linux/">Linux</a></span></div><div class="content">缝合文章，缝合太多了就不注明出处了。
五种基本的IO模型阻塞IO        (blocking IO)在linux中，默认情况下所有的socket都是blocking，一个典型的读操作流程大概是这样：

当用户进程调用了recvfrom这个系统调用，kernel就开始了IO的第一个阶段：准备数据。对于network io来说，很多时候数据在一开始还没有到达（比如，还没有收到一个完整的UDP包），这个时候kernel就要等待足够的数据到来。而在用户进程这边，整个进程会被阻塞。当kernel一直等到数据准备好了，它就会将数据从kernel中拷贝到用户内存，然后kernel返回结果，用户进程才解除block的状态，重新运行起来。所以，blocking IO的特点就是在IO执行的两个阶段都被block了。
非阻塞IO     ( nonblocking IO)linux下，可以通过设置socket使其变为non-blocking。当对一个non-blocking socket执行读操作时，流程是这个样子：

从图中可以看出，当用户进程发出read操作时，如果kernel中的数据还没有准备好 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/10/SGISTLvector/" title="SGISTLvector">     <img class="post_bg" src="http://p4.qhimg.com/bdm/0_0_100/t019def674785e03ef1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SGISTLvector"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/10/SGISTLvector/" title="SGISTLvector">SGISTLvector</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-03-10T13:12:02.000Z" title="发表于 2021-03-10 21:12:02">2021-03-10</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-03-10T13:12:39.000Z" title="更新于 2021-03-10 21:12:39">2021-03-10</time></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/C/">C++</a></span></div><div class="content">手写SGISTL vector对标SGISTL版本为GUNC++2.91，实现其vector全部功能，使用分配器也是手写对标GUNC++2.91的allocator(暂时没写内存池的版本)，使用方式using namespace Allocator;即可。纪念一下，留着以后改进用。
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/05/3B-server%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3/" title="3B+server开发文档">     <img class="post_bg" src="http://p18.qhimg.com/bdm/0_0_100/t0173df002c22d721b4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="3B+server开发文档"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/05/3B-server%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3/" title="3B+server开发文档">3B+server开发文档</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-03-05T11:03:11.000Z" title="发表于 2021-03-05 19:03:11">2021-03-05</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-03-05T11:04:42.000Z" title="更新于 2021-03-05 19:04:42">2021-03-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/linux/">linux</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/linux/">linux</a></span></div><div class="content">数据库登陆
12sudo mysql -uroot -p&quot;qwert15460&quot;#china key:123456

建库
1create database 3B

建表
1create table data(temper varchar(20),humid varchar(20),press varchar(20),light varchar(20));

插表
1insert into data values(&#39;999.999&#39;,&#39;999.999&#39;,&#39;999.999&#39;,&#39;999.999&#39;);

查表
1select * from data;

查属性
1desc data;

属性
1234567891011mysql&gt; desc data;+--------+-------------+------+-----+---------+-------+| Field  | Type        | Null | Key | Default | Extra |+--------+-------- ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/02/Cdeque/" title="Cdeque">     <img class="post_bg" src="http://p8.qhimg.com/bdm/0_0_100/t01659e0702e7e8b2f9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cdeque"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/02/Cdeque/" title="Cdeque">Cdeque</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-03-02T01:34:36.000Z" title="发表于 2021-03-02 09:34:36">2021-03-02</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-03-13T12:21:55.000Z" title="更新于 2021-03-13 20:21:55">2021-03-13</time></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/CwithSTL/">CwithSTL</a></span></div><div class="content">手写C版本的deque记录一个小demo，留着以后批判。实现了除了运算符重载以外的所有功能(大概),这里的deque没有使用map做中控器，然后也没有使用分断(512字节)的形式，直接写成了普通的链表,其他的都没什么问题。vector使用的是const static dequetfuntion deque **类似于C++的namespace**中的通用接口。
用到的宏1#define TYPE int



data定义12345typedef struct dequenode&#123;    struct dequenode*next;    struct dequenode*prev;    TYPE val;&#125;dequenode;

头节点定义12345typedef struct dequenode&#123;    struct dequenode*next;    struct dequenode*prev;    TYPE val;&#125;dequenode;

funtion定义1234567891011121314151617181920212223 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1602674028&amp;di=d172ead1852b69507d79279bf80efc54&amp;imgtype=jpg&amp;er=1&amp;src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202009%2F15%2F20200915202836_6632b.thumb.1000_0.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">echo</div><div class="author-info__description">好风凭借力 扶摇上青云</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length_num">54</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length_num">21</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length_num">13</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/echowill"><i class="fab fa-github"></i><span>My gayhub</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/echowill" target="_blank" title="GitHub"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:echowill@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/04/07/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E5%90%88%E9%9B%86/" title="常见算法合集"><img src="http://p7.qhimg.com/bdm/0_0_100/t01f71a798fd33ba511.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常见算法合集"/></a><div class="content"><a class="title" href="/2022/04/07/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E5%90%88%E9%9B%86/" title="常见算法合集">常见算法合集</a><time datetime="2022-04-07T11:33:25.000Z" title="发表于 2022-04-07 19:33:25">2022-04-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/07/cpp%E5%AE%9E%E7%94%A8%E5%B0%8F%E6%8A%80%E5%B7%A7/" title="cpp实用小技巧"><img src="http://p5.qhimg.com/bdm/0_0_100/t0152da15ac77fe1eef.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="cpp实用小技巧"/></a><div class="content"><a class="title" href="/2021/11/07/cpp%E5%AE%9E%E7%94%A8%E5%B0%8F%E6%8A%80%E5%B7%A7/" title="cpp实用小技巧">cpp实用小技巧</a><time datetime="2021-11-07T09:47:29.000Z" title="发表于 2021-11-07 17:47:29">2021-11-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/30/GRPCrouteGuide/" title="GRPCrouteGuide"><img src="http://p5.qhimg.com/bdm/0_0_100/t01dfe78c9e02a650c3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="GRPCrouteGuide"/></a><div class="content"><a class="title" href="/2021/10/30/GRPCrouteGuide/" title="GRPCrouteGuide">GRPCrouteGuide</a><time datetime="2021-10-30T02:24:03.000Z" title="发表于 2021-10-30 10:24:03">2021-10-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/26/protocbufferRouteGuide/" title="protocbufferRouteGuide"><img src="http://p2.qhimg.com/bdm/0_0_100/t01b079bc5131c99a6b.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="protocbufferRouteGuide"/></a><div class="content"><a class="title" href="/2021/10/26/protocbufferRouteGuide/" title="protocbufferRouteGuide">protocbufferRouteGuide</a><time datetime="2021-10-26T06:58:27.000Z" title="发表于 2021-10-26 14:58:27">2021-10-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/20/golang%E5%AE%9E%E6%88%98%E7%AC%94%E8%AE%B03/" title="golang实战笔记3"><img src="http://p0.qhimg.com/bdm/0_0_100/t01346ba3346ce534a0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="golang实战笔记3"/></a><div class="content"><a class="title" href="/2021/10/20/golang%E5%AE%9E%E6%88%98%E7%AC%94%E8%AE%B03/" title="golang实战笔记3">golang实战笔记3</a><time datetime="2021-10-20T02:51:52.000Z" title="发表于 2021-10-20 10:51:52">2021-10-20</time></div></div></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ARM/"><span class="card-category-list-name">ARM</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C/"><span class="card-category-list-name">C</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C/"><span class="card-category-list-name">C++</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/CSAPP/"><span class="card-category-list-name">CSAPP</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/STL/"><span class="card-category-list-name">STL</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/linux/"><span class="card-category-list-name">linux</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/mysql/"><span class="card-category-list-name">mysql</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/web/"><span class="card-category-list-name">web</span><span class="card-category-list-count">1</span></a></li>
            <li class="card-category-list-item more is-center"><a class="card-category-list-link-more" href="/categories/">
                <span>查看更多</span><i class="fas fa-angle-right"></i></a></li>
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/C/" style="font-size: 1.23em; color: #999ea6">C</a> <a href="/tags/C/" style="font-size: 1.5em; color: #99a9bf">C++</a> <a href="/tags/CPP/" style="font-size: 1.1em; color: #999">CPP</a> <a href="/tags/CSAPP/" style="font-size: 1.1em; color: #999">CSAPP</a> <a href="/tags/CwithSTL/" style="font-size: 1.37em; color: #99a4b2">CwithSTL</a> <a href="/tags/Golang/" style="font-size: 1.23em; color: #999ea6">Golang</a> <a href="/tags/Libevent/" style="font-size: 1.1em; color: #999">Libevent</a> <a href="/tags/Linux/" style="font-size: 1.1em; color: #999">Linux</a> <a href="/tags/STL/" style="font-size: 1.1em; color: #999">STL</a> <a href="/tags/Sql/" style="font-size: 1.1em; color: #999">Sql</a> <a href="/tags/cpp/" style="font-size: 1.1em; color: #999">cpp</a> <a href="/tags/grpc/" style="font-size: 1.23em; color: #999ea6">grpc</a> <a href="/tags/libevent/" style="font-size: 1.23em; color: #999ea6">libevent</a> <a href="/tags/libevnet/" style="font-size: 1.1em; color: #999">libevnet</a> <a href="/tags/linux/" style="font-size: 1.5em; color: #99a9bf">linux</a> <a href="/tags/web/" style="font-size: 1.1em; color: #999">web</a> <a href="/tags/%E5%85%B3%E9%94%AE%E5%AD%97/" style="font-size: 1.37em; color: #99a4b2">关键字</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1.1em; color: #999">数据库</a> <a href="/tags/%E7%8E%B0%E4%BB%A3C/" style="font-size: 1.37em; color: #99a4b2">现代C++</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.1em; color: #999">计算机网络</a> <a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/" style="font-size: 1.1em; color: #999">黑苹果</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/10/"><span class="card-archive-list-date">十月 2021</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/06/"><span class="card-archive-list-date">六月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">三月 2021</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>查看更多</span><i class="fas fa-angle-right"  ></i></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">54</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">133.2k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-04-11T09:55:01.973Z"></div></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(http://p3.qhimg.com/bdm/0_0_100/t01f8e7925475f95ea4.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By echo</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "大鹏一日同风起，扶摇直上九万里,习得文武艺，贩予帝王家".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '大鹏一日同风起，扶摇直上九万里'
  }
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":350},"mobile":{"show":true},"log":false});</script></body></html>